<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KRONO V1.0 by Albert Closa</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Fuente: Orbitron -->
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
    
    <!-- Iconos -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        krono: ['Orbitron', 'sans-serif'],
                    },
                    colors: {
                        neon: '#00f3ff',
                        dark: '#050505'
                    },
                    animation: {
                        'flicker': 'flicker 3s infinite alternate',
                        'float': 'float 6s ease-in-out infinite',
                    },
                    keyframes: {
                        flicker: {
                            '0%, 19%, 21%, 23%, 25%, 54%, 56%, 100%': { 
                                opacity: '1',
                                textShadow: '0 0 5px #00f3ff, 0 0 10px #00f3ff, 0 0 20px #00f3ff'
                            },
                            '20%, 24%, 55%': { 
                                opacity: '0.5',
                                textShadow: 'none'
                            }
                        },
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #050505;
            background-image: 
                radial-gradient(circle at 50% 50%, rgba(0, 243, 255, 0.03) 0%, transparent 60%),
                linear-gradient(rgba(0,0,0,0.8), rgba(0,0,0,0.8));
            color: #ffffff;
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* Estilo Cristal */
        .glass-panel {
            background: rgba(12, 20, 35, 0.6);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(0, 243, 255, 0.15);
            transition: all 0.3s ease;
            cursor: zoom-in;
            position: relative;
            overflow: hidden;
        }
        
        .glass-panel:hover {
            border-color: rgba(0, 243, 255, 0.8);
            transform: translateY(-5px);
            box-shadow: 0 0 25px rgba(0, 243, 255, 0.2);
            z-index: 20;
        }

        /* Efecto de escaneo sobre las fotos */
        .glass-panel::after {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: linear-gradient(to bottom, transparent 0%, rgba(0, 243, 255, 0.05) 50%, transparent 100%);
            transform: translateY(-100%);
            transition: transform 0.5s;
        }
        .glass-panel:hover::after {
            transform: translateY(100%);
        }

        /* Marco del teléfono */
        .phone-mockup {
            box-shadow: 0 0 0 6px #1e293b, 0 0 0 8px #000, 0 0 50px rgba(0, 243, 255, 0.15);
        }

        /* LIGHTBOX */
        #lightbox { transition: all 0.3s ease; }
        .lightbox-hidden { opacity: 0; pointer-events: none; visibility: hidden; }
        .lightbox-visible { opacity: 1; pointer-events: auto; visibility: visible; }
    </style>
</head>
<body class="flex flex-col font-sans selection:bg-cyan-500/30">

    <!-- CABECERA -->
    <header class="w-full py-6 px-4 z-20 flex flex-col items-center justify-center border-b border-white/5 bg-black/20 backdrop-blur-sm">
        <h1 class="font-krono text-4xl md:text-5xl font-black text-center text-white animate-flicker tracking-widest">
            KRONO V1.0
        </h1>
        <p class="font-krono text-[10px] md:text-xs text-cyan-400 tracking-[0.4em] uppercase opacity-70 mt-2">
            by Albert Closa
        </p>
    </header>

    <!-- CONTENIDO PRINCIPAL -->
    <!-- Usamos Flexbox con wrap reverso para móvil y row para escritorio -->
    <main class="flex-grow w-full max-w-[1800px] mx-auto p-4 md:p-8 flex items-center justify-center min-h-[80vh]">
        
        <div class="flex flex-col md:flex-row items-center justify-center gap-6 w-full">

            <!-- COLUMNA IZQUIERDA (3 Fotos) -->
            <!-- order-2 en móvil (abajo), order-1 en escritorio (izquierda) -->
            <div class="order-2 md:order-1 flex flex-row md:flex-col gap-4 w-full md:w-1/4 justify-center md:justify-end items-center">
                <!-- Foto 1 -->
                <div class="glass-panel rounded-xl aspect-[9/16] w-[28%] md:w-[70%] lg:w-[60%] max-w-[200px] group" onclick="openLightbox('img1')">
                    <img id="img1" src="captura1.jpg" class="w-full h-full object-cover opacity-70 group-hover:opacity-100 transition-opacity" onerror="this.src='https://placehold.co/1080x1920/000/0ff?text=IMG+01'">
                </div>
                <!-- Foto 2 -->
                <div class="glass-panel rounded-xl aspect-[9/16] w-[28%] md:w-[70%] lg:w-[60%] max-w-[200px] group md:mr-8" onclick="openLightbox('img2')">
                    <img id="img2" src="captura2.jpg" class="w-full h-full object-cover opacity-70 group-hover:opacity-100 transition-opacity" onerror="this.src='https://placehold.co/1080x1920/000/0ff?text=IMG+02'">
                </div>
                <!-- Foto 3 -->
                <div class="glass-panel rounded-xl aspect-[9/16] w-[28%] md:w-[70%] lg:w-[60%] max-w-[200px] group" onclick="openLightbox('img3')">
                    <img id="img3" src="captura3.jpg" class="w-full h-full object-cover opacity-70 group-hover:opacity-100 transition-opacity" onerror="this.src='https://placehold.co/1080x1920/000/0ff?text=IMG+03'">
                </div>
            </div>

            <!-- COLUMNA CENTRAL (Video) -->
            <!-- order-1 en móvil (arriba), order-2 en escritorio (centro) -->
            <div class="order-1 md:order-2 w-full md:w-2/4 lg:w-1/3 flex justify-center z-10 my-4 md:my-0">
                <div class="relative w-full max-w-[320px] lg:max-w-[360px] animate-float">
                    
                    <!-- Glow -->
                    <div class="absolute -inset-8 bg-cyan-500/10 blur-[50px] rounded-full pointer-events-none"></div>

                    <!-- Teléfono -->
                    <div class="aspect-[9/16] bg-black rounded-[2.5rem] overflow-hidden phone-mockup relative">
                        <video id="mainVideo" class="w-full h-full object-cover" loop playsinline muted>
                            <source src="mivideo.mp4" type="video/mp4">
                        </video>

                        <!-- Overlay Play -->
                        <div id="playOverlay" class="absolute inset-0 bg-black/30 flex items-center justify-center cursor-pointer group" onclick="togglePlay()">
                            <div class="w-16 h-16 rounded-full border border-cyan-400/40 bg-black/40 backdrop-blur-sm flex items-center justify-center group-hover:scale-110 transition-transform">
                                <i data-lucide="play" class="w-6 h-6 text-white ml-1"></i>
                            </div>
                        </div>

                        <!-- Fallback Error -->
                        <div id="errorState" class="absolute inset-0 bg-slate-900 flex flex-col items-center justify-center hidden z-20">
                            <i data-lucide="wifi-off" class="w-10 h-10 text-slate-600 mb-3"></i>
                            <p class="text-[10px] text-cyan-500 tracking-widest">VIDEO SIGNAL LOST</p>
                            <button onclick="document.getElementById('manualInput').click()" class="mt-4 text-[9px] border border-cyan-500/30 px-3 py-1 rounded text-cyan-200 hover:bg-cyan-500/20 transition">RECONECTAR</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- COLUMNA DERECHA (3 Fotos) -->
            <!-- order-3 en móvil (abajo del todo), order-3 en escritorio (derecha) -->
            <div class="order-3 md:order-3 flex flex-row md:flex-col gap-4 w-full md:w-1/4 justify-center md:justify-start items-center">
                <!-- Foto 4 -->
                <div class="glass-panel rounded-xl aspect-[9/16] w-[28%] md:w-[70%] lg:w-[60%] max-w-[200px] group" onclick="openLightbox('img4')">
                    <img id="img4" src="captura4.jpg" class="w-full h-full object-cover opacity-70 group-hover:opacity-100 transition-opacity" onerror="this.src='https://placehold.co/1080x1920/000/0ff?text=IMG+04'">
                </div>
                <!-- Foto 5 -->
                <div class="glass-panel rounded-xl aspect-[9/16] w-[28%] md:w-[70%] lg:w-[60%] max-w-[200px] group md:ml-8" onclick="openLightbox('img5')">
                    <img id="img5" src="captura5.jpg" class="w-full h-full object-cover opacity-70 group-hover:opacity-100 transition-opacity" onerror="this.src='https://placehold.co/1080x1920/000/0ff?text=IMG+05'">
                </div>
                <!-- Foto 6 -->
                <div class="glass-panel rounded-xl aspect-[9/16] w-[28%] md:w-[70%] lg:w-[60%] max-w-[200px] group" onclick="openLightbox('img6')">
                    <img id="img6" src="captura6.jpg" class="w-full h-full object-cover opacity-70 group-hover:opacity-100 transition-opacity" onerror="this.src='https://placehold.co/1080x1920/000/0ff?text=IMG+06'">
                </div>
            </div>

        </div>
    </main>

    <!-- LIGHTBOX MODAL -->
    <div id="lightbox" class="fixed inset-0 z-50 bg-black/95 flex items-center justify-center lightbox-hidden backdrop-blur-md" onclick="closeLightbox()">
        <button class="absolute top-4 right-4 text-white hover:text-cyan-400 p-2">
            <i data-lucide="x" class="w-8 h-8"></i>
        </button>
        <img id="lightbox-img" src="" class="max-h-[95vh] max-w-[95vw] w-auto h-auto object-contain rounded-lg border border-cyan-500/20 shadow-[0_0_50px_rgba(0,243,255,0.15)]" onclick="event.stopPropagation()">
    </div>

    <!-- Input Oculto -->
    <input type="file" id="manualInput" accept="video/*,image/*" multiple class="hidden">

    <script>
        lucide.createIcons();

        const video = document.getElementById('mainVideo');
        const playOverlay = document.getElementById('playOverlay');
        const errorState = document.getElementById('errorState');
        const manualInput = document.getElementById('manualInput');
        const lightbox = document.getElementById('lightbox');
        const lightboxImg = document.getElementById('lightbox-img');

        // --- FUNCIONES LIGHTBOX ---
        function openLightbox(imgId) {
            const src = document.getElementById(imgId).src;
            lightboxImg.src = src;
            lightbox.classList.remove('lightbox-hidden');
            lightbox.classList.add('lightbox-visible');
        }

        function closeLightbox() {
            lightbox.classList.remove('lightbox-visible');
            lightbox.classList.add('lightbox-hidden');
            setTimeout(() => { lightboxImg.src = ''; }, 300);
        }

        // --- VIDEO ---
        function togglePlay() {
            if (!video) return;
            if (video.paused) {
                video.play().then(() => playOverlay.classList.add('opacity-0', 'pointer-events-none')).catch(() => {});
            } else {
                video.pause();
                playOverlay.classList.remove('opacity-0', 'pointer-events-none');
            }
        }

        video.addEventListener('click', togglePlay);
        video.addEventListener('ended', () => playOverlay.classList.remove('opacity-0', 'pointer-events-none'));
        
        video.onerror = () => {
            video.style.display = 'none';
            playOverlay.style.display = 'none';
            errorState.classList.remove('hidden');
            errorState.classList.add('flex');
        };

        video.onloadeddata = () => {
            errorState.classList.add('hidden');
            errorState.classList.remove('flex');
            video.style.display = 'block';
            playOverlay.style.display = 'flex';
            video.play().then(() => playOverlay.classList.add('opacity-0', 'pointer-events-none')).catch(() => {});
        };

        // --- CARGA MANUAL ---
        manualInput.addEventListener('change', (e) => {
            const files = Array.from(e.target.files);
            files.forEach(file => {
                const url = URL.createObjectURL(file);
                const name = file.name.toLowerCase();

                if (file.type.startsWith('video/') || name.endsWith('mp4')) {
                    video.src = url;
                    video.style.display = 'block';
                    errorState.classList.add('hidden');
                    errorState.classList.remove('flex');
                    playOverlay.style.display = 'flex';
                    video.play().then(() => playOverlay.classList.add('opacity-0', 'pointer-events-none')).catch(()=>{});
                } else if (file.type.startsWith('image/')) {
                    if (name.includes('captura1')) document.getElementById('img1').src = url;
                    else if (name.includes('captura2')) document.getElementById('img2').src = url;
                    else if (name.includes('captura3')) document.getElementById('img3').src = url;
                    else if (name.includes('captura4')) document.getElementById('img4').src = url;
                    else if (name.includes('captura5')) document.getElementById('img5').src = url;
                    else if (name.includes('captura6')) document.getElementById('img6').src = url;
                }
            });
        });
    </script>
</body>
</html>
